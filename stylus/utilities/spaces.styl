/*------------------------------------*\
  Space utilities
\*------------------------------------*/
@require '../settings/breakpoints'
@require '../tools/mixins'

// @stylint off
types = {
    p: padding,
    m: margin
}
sizes = {
    'auto': auto
    '0': 0,
    'half': rem(8),
    '1': rem(16),
    '1-half': rem(24),
    '2': rem(32),
    '2-half': rem(40),
    '3': rem(48)
}

// These are the values used by the design team, they should used
// instead of the `sizes` variable above that is only kept for retro-compatibility
spacing_values = {
    m: 1rem, // the standard, no modifier needed
    xs: .5rem,
    s: .75rem,
    l: 1.5rem,
    xl: 2rem
    xxl: 3rem
}

directions = {
    '': all,
    t: top,
    b: bottom,
    l: left,
    r: right,
    v: vertical,
    h: horizontal
}

// Placeholders generation
for kType, vType in types
    for kSize, vSize in sizes
        for kDir, vDir in directions
            if vDir == all
                ${kType}-{kSize}
                    {vType}: vSize !important
            else if vDir == vertical
                ${kType}{kDir}-{kSize}
                    {vType}-top: vSize !important
                    {vType}-bottom: vSize !important
            else if vDir == horizontal
                ${kType}{kDir}-{kSize}
                    {vType}-left: vSize !important
                    {vType}-right: vSize !important
            else
                ${kType}{kDir}-{kSize}
                    {vType}-{vDir}: vSize !important

// Classes generation
cssModulesSpacingUtils()
    for kBp, vBp in breakpoints
        for kType, vType in types
            for kSize, vSize in sizes
                for kDir, vDir in directions
                    if vBp == ''
                        if vDir == all
                            :global(.u-{kType}-{kSize})
                                {vType}: vSize !important
                        else if vDir == vertical
                            :global(.u-{kType}{kDir}-{kSize})
                                {vType}-top: vSize !important
                                {vType}-bottom: vSize !important
                        else if vDir == horizontal
                            :global(.u-{kType}{kDir}-{kSize})
                                {vType}-left: vSize !important
                                {vType}-right: vSize !important
                        else
                            :global(.u-{kType}{kDir}-{kSize})
                                {vType}-{vDir}: vSize !important
                    else
                        @media (max-width: rem(lookup('BP-'+kBp)))
                            if vDir == all
                                :global(.u-{kType}-{kSize}-{vBp})
                                    {vType}: vSize !important
                            else if vDir == vertical
                                :global(.u-{kType}{kDir}-{kSize}-{vBp})
                                    {vType}-top: vSize !important
                                    {vType}-bottom: vSize !important
                            else if vDir == horizontal
                                :global(.u-{kType}{kDir}-{kSize}-{vBp})
                                    {vType}-left: vSize !important
                                    {vType}-right: vSize !important
                            else
                                :global(.u-{kType}{kDir}-{kSize}-{vBp})
                                    {vType}-{vDir}: vSize !important

nativeSpacingUtils()
    for kBp, vBp in breakpoints
        for kType, vType in types
            for kSize, vSize in sizes
                for kDir, vDir in directions
                    if vBp == ''
                        if vDir == all
                            .u-{kType}-{kSize}
                                {vType}: vSize !important
                        else if vDir == vertical
                            .u-{kType}{kDir}-{kSize}
                                {vType}-top: vSize !important
                                {vType}-bottom: vSize !important
                        else if vDir == horizontal
                            .u-{kType}{kDir}-{kSize}
                                {vType}-left: vSize !important
                                {vType}-right: vSize !important
                        else
                            .u-{kType}{kDir}-{kSize}
                                {vType}-{vDir}: vSize !important
                    else
                        @media (max-width: rem(lookup('BP-'+kBp)))
                            if vDir == all
                                .u-{kType}-{kSize}-{vBp}
                                    {vType}: vSize !important
                            else if vDir == vertical
                                .u-{kType}{kDir}-{kSize}-{vBp}
                                    {vType}-top: vSize !important
                                    {vType}-bottom: vSize !important
                            else if vDir == horizontal
                                .u-{kType}{kDir}-{kSize}-{vBp}
                                    {vType}-left: vSize !important
                                    {vType}-right: vSize !important
                            else
                                .u-{kType}{kDir}-{kSize}-{vBp}
                                    {vType}-{vDir}: vSize !important
if cssmodules == true
    cssModulesSpacingUtils()
else
    nativeSpacingUtils()
// @stylint on
