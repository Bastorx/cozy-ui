@require '../settings/palette'
@require '../tools/mixins'

/*------------------------------------*\
  Text utilities
\*------------------------------------*/

$error
    color  pomegranate

$error-warning
    &:before
        content         ''
        display         inline-block
        margin-right    rem(8)
        width           rem(16)
        height          rem(14)
        background      embedurl('../assets/icons/ui/warning.svg') center center / contain no-repeat
        vertical-align  text-bottom

$valid
    color  malachite

$warn
    color  texasRose

colors=json('../settings/palette.json', { hash: true })

for color in keys(colors)
    $color-{color}
        color: lookup(color) !important // @stylint ignore

    global('.u-' + color, '$color-' + color)


$ellipsis
    display block
    width 100%
    white-space nowrap
    overflow hidden
    text-overflow ellipsis

$midellipsis
    display flex
    flex-wrap nowrap

    > * // @stylint ignore
        display inline-block
        max-width 50%
        overflow hidden
        white-space pre

    > :first-child
        text-overflow ellipsis

    > :last-child
        text-overflow clip
        direction rtl

    @supports(text-overflow: '[...]')
        > :first-child
            text-overflow '[...]'

// @stylint off
fz-tiny =
    font-size rem(12)!important
    line-height 1.3!important
$fz-tiny
    {fz-tiny}

fz-xsmall =
    font-size rem(13)!important
    line-height 1.4!important
$fz-xsmall
    {fz-xsmall}

fz-small =
    font-size rem(14)!important
    line-height 1.4!important
$fz-small
    {fz-small}

fz-medium =
    font-size rem(16)!important
    line-height 1.5!important
$fz-medium
    {fz-medium}

fz-large =
    font-size rem(18)!important
    line-height 1.5!important
$fz-large
    {fz-large}

ta-left =
    text-align left!important
$ta-left
    {ta-left}

ta-right =
    text-align right!important
$ta-right
    {ta-right}

ta-center =
    text-align center!important
$ta-center
    {ta-center}

ta-justify =
    text-align justify!important
$ta-justify
    {ta-justify}
// @stylint on

// Global classes
global('.u-error', $error)
global('.u-error--warning', $error-warning)
global('.u-valid', $valid)
global('.u-warn', $warn)
global('.u-ellipsis', $ellipsis)
global('.u-midellipsis', $midellipsis)
global('.u-fz-tiny', $fz-tiny)
global('.u-fz-xsmall', $fz-xsmall)
global('.u-fz-small', $fz-small)
global('.u-fz-medium', $fz-medium)
global('.u-fz-large', $fz-large)
global('.u-ta-left', $ta-left)
global('.u-ta-right', $ta-right)
global('.u-ta-center', $ta-center)
global('.u-ta-justify', $ta-justify)
