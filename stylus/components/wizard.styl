@require '../tools/mixins'
@require '../settings/breakpoints'
@require '../settings/palette'
@require '../objects/layouts'
@require '../components/forms'
@require '../components/button'

// Wizard layout
$wizard
    position fixed
    top 0
    left 0
    height 100%
    display flex
    justify-content center
    align-items center
    width 100%
    background-color white
    color charcoalGrey
    text-align center

$wizard--waiting
    background-color dodgerBlue
    color white

$wizard--scroll
    position absolute

    +medium-screen()
        padding-top rem(80)
        box-sizing border-box

    +tiny-screen()
        padding-top 0

$wizard-wrapper
    @extend $elastic
    width 100%
    height 100%
    max-width rem(544)
    text-align left

    +tiny-screen('min')
        height auto

$wizard-wrapper--welcome
    height auto

$wizard-wrapper--bleed
    align-items center
    justify-content center
    height 100%
    max-width rem(1032)

$wizard-wrapper--dual
    @extend $wizard-wrapper--bleed
    max-width none

$wizard-dual
    flex 1 1 50%
    width 100%
    display flex
    flex-direction column
    align-items center
    justify-content flex-start

    &:first-child
        justify-content flex-end
        background-color dodgerBlue
        color white

$wizard-errors
    order 1
    margin rem(16) 0 0
    font-size rem(14)
    line-height 1.7
    font-style italic

    p
        margin 0

    +tiny-screen()
        margin-top rem(8)

$wizard-header
    @extend $elastic-bar
    display flex
    flex-direction column
    box-sizing border-box
    max-width rem(544)
    margin rem(16) auto rem(8)
    padding 0 rem(16)

    +tiny-screen()
        margin rem(16) 0 0

$wizard-header--dual
    position relative
    width 100%

    +tiny-screen()
        margin-bottom rem(20)

$wizard-main
    display flex
    flex-direction column
    flex 0 1 auto
    box-sizing border-box
    width 100%
    padding 0 rem(16)
    @extend $elastic-content

$wizard-footer
    @extend $elastic-bar
    display flex
    order 2
    flex-wrap wrap
    box-sizing border-box
    max-width rem(544)
    margin rem(32 0 24)
    padding 0 rem(16)
    padding-bottom env(safe-area-inset-bottom)

    & > button // @stylint ignore
    & > a:link // @stylint ignore
        flex 1 1 100%
        margin 0 0 rem(8)
        line-height 1.5

    +tiny-screen()
        margin rem(24 0 8)

$wizard-footer--welcome
    justify-content space-between
    +tiny-screen('min')
        & > button // @stylint ignore
        & > a:link // @stylint ignore
            btn-margin = rem(4)
            flex 0 1 'calc(50% - %s)' % btn-margin

$wizard-footer--dual
    margin-top rem(24)

    +tiny-screen()
        margin-top rem(28)
        font-size rem(14)

// Wizard elements
$wizard-logo
    position relative
    margin 0 auto
    width rem(120)
    height rem(120)

$wizard-logo-img
    width 100%

$wizard-logo-badge
    display flex
    align-items center
    justify-content center
    position absolute
    bottom rem(6)
    right rem(16)
    width rem(32)
    height rem(32)
    background-color dodgerBlue
    border .125rem solid white
    border-radius 50%

$wizard-header-help
    order -1
    margin 0 0 rem(8)
    font-size rem(18)
    line-height 1.5
    text-align center
    +tiny-screen()
        margin rem(4) 0 0
        font-size rem(16)

$wizard-disclaimer
    display flex
    margin rem(24 0 8)
    flex-direction row
    align-items flex-start
    font-size rem(15)
    line-height 1.33

    span
        flex 0 0 auto
        margin-right rem(16)
        background-color weirdGreen
        padding rem(8)
        border-radius 50%

    svg
        display block
        fill emerald

    strong
        color emerald

    +tiny-screen()
        display none

$wizard-desc
    margin rem(32) 0 0
    line-height 1.5

    a
        color dodgerBlue
        text-decoration none

        &:hover
        &:focus
            color scienceBlue

    +tiny-screen()
        margin rem(24) 0 0

$wizard-header-fixed
    position fixed
    top rem(14)
    left 0

$wizard-previous
    margin 0
    padding rem(10) rem(16)
    color coolGrey

$wizard-brand
    margin-left rem(16)
    +tiny-screen()
        display none

$wizard-brand--invert
    svg
        filter brightness(0) invert(100%)

$wizard-brand-with
    position relative
    padding-left rem(24)
    margin-left rem(8)

    &:before
        content ''
        position absolute
        left 0
        top 50%
        height rem(24)
        border-left rem(1) solid silver
        transform translateY(-50%)

$wizard-next
    padding-right rem(48)
    padding-left rem(48)
    svg
        position absolute
        right rem(16)

$wizard-button
    +tiny-screen('min')
        {button--large}

$wizard-password
    +tiny-screen()
        {input-text--medium}

$wizard-dual-btn
    position absolute
    bottom rem(-39)
    left rem(16)
    right rem(16)
    margin 0
    width 'calc(100% - %s)' % rem(32)
    font-size rem(14)

    +tiny-screen('min')
        {button--large}
        bottom rem(-32)
        font-size rem(16)

    &:hover
    &:focus
        background-color emerald
        border-color emerald

$wizard-waiting-icon
    margin 0 0 rem(32)
    height rem(99)

    svg
        display block
        margin 0 auto
        height 100%
        width 100%

    +tiny-screen()
        margin-bottom rem(16)
        height rem(55)

$wizard-dual-icon
    @extend $wizard-waiting-icon
    margin 0 0 rem(16)
    height rem(123)


    +tiny-screen()
        height rem(82)

$wizard-title
    margin 0
    text-align center
    font-size rem(32)
    line-height 1.25
    +tiny-screen()
        font-size rem(18)
        line-height 1.78

$wizard-dual-title
    @extend $wizard-title
    margin-bottom rem(16)
    font-size rem(40)

    +tiny-screen()
        margin-bottom rem(8)
        font-size rem(24)
        line-height 1.3

$wizard-title-sub
    display block
    margin-top rem(8)
    opacity .64
    font-size rem(24)
    font-weight normal
    line-height 1.33
    +tiny-screen()
        margin 0
        font-size rem(16)
        line-height 1.5

$wizard-subtitle
    margin 0
    text-align center
    font-size rem(16)
    font-weight normal
    line-height 1.5
    +tiny-screen()
        font-size rem(14)
        line-height 1.15

$wizard-dual-subtitle
    @extend $wizard-subtitle
    margin-bottom rem(48)
    font-size rem(20)
    line-height 1.4

    +tiny-screen()
        margin-bottom rem(24)
        font-size rem(16)
        line-height 1.5

$wizard-title--welcome
    +tiny-screen()
        font-size rem(24)
        line-height 1.17

$wizard-showbutton
    position absolute
    right 0
    top rem(11)
    margin 0
    border 0
    padding 0
    min-width auto
    background-color transparent
    color coolGrey

    &:hover
    &:focus
        background-color inherit
        color charcoalGrey

$wizard-dualfield
    display flex
    flex-direction row
    align-items stretch
    border rem(1) solid silver
    border-radius rem(2)

$wizard-dualfield--focus
    border-color dodgerBlue

$wizard-dualfield--error
    border-color pomegranate

$wizard-protocol
    display flex
    align-items center
    background-color paleGrey
    border-right rem(1) solid silver
    padding 0 rem(16)

    svg
        fill currentColor
        margin-right rem(8)

$wizard-domain
    display flex
    flex-direction column
    justify-content center
    flex 0 0 auto
    margin-right rem(16)

$wizard-select
    @extend $select
    flex 0 0 auto
    margin rem(2)
    width rem(148)
    border 0
    padding rem(11 38 11 8)

    &:hover
    &:focus
        position relative
        z-index 1
        background-color paleGrey
        border 0
        outline 0

$wizard-select--medium
    @extend $select--medium
    padding rem(6 38 8 8)

$wizard-select--narrow
    width rem(40)

$wizard-input
    flex 1 1 auto
    border 0
    padding-right rem(8)
    &:hover
    &:focus
        position relative
        z-index 1
        border 0
        outline 0

    +tiny-screen()
        {input-text--medium}

$wizard-requirements
    order 2
    margin-bottom 0
    padding 0
    list-style disc inside
    line-height 1.5
    font-style italic
    color coolGrey

    span
        display inline-block
        text-indent rem(8)

    +tiny-screen()
        font-size rem(14)
        margin-top rem(8)

$wizard-agreements
    display flex
    flex-direction row
    margin 0
    padding 0
    list-style none

    +medium-screen()
        flex-direction column
        margin 0 auto
        max-width rem(512)

$wizard-agreements-item
    display flex
    flex-direction column
    flex 1 1 calc(100% / 6 - .5rem)
    margin rem(16 4 0)
    border rem(1) solid silver
    border-radius rem(8)
    padding rem(16)

    +medium-screen()
        flex-direction row
        flex 1 0 auto
        margin rem(16) 0 0
        border 0
        padding 0

        &:last-child p
            border 0
            margin 0

$wizard-agreements-desc
    min-height rem(32)
    font-size rem(14)
    line-height 1.43

    +medium-screen()
        flex 1 1 100%
        border-bottom rem(1) solid silver
        padding-bottom rem(16)
        font-size rem(16)
        line-height 1.5

$wizard-agreements-icon
    --bgcolor dodgerBlue // @stylint ignore
    box-sizing border-box
    display flex
    align-items center
    justify-content center
    flex 0 0 auto
    margin 0 auto rem(16)
    width rem(48)
    height rem(48)
    border-radius 50%
    padding rem(12)
    background-color var(--bgcolor)

    svg
        display block
        width 100%
        height 100%
        fill white

    +medium-screen()
        margin 0 rem(24) 0 0
        width rem(32)
        height rem(32)
        border-radius 50%
        padding rem(8)

$wizard-notice
    order 2
    margin rem(16) 0 0
    line-height 1.5

    p
        margin 0

    a
        color dodgerBlue
        text-decoration none

        &:hover
        &:focus
            color scienceBlue

    +tiny-screen('min')
        margin rem(32) 0 0

$wizard-notice--lost
    font-size rem(16)
